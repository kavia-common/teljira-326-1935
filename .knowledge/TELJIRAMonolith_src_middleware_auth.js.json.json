{"is_source_file": true, "format": "JavaScript", "description": "This file defines an authentication middleware function for an Express.js application. It verifies JWT tokens in the Authorization header, attaches user info to the request context, and handles authorization errors.", "external_files": ["jsonwebtoken"], "external_methods": ["jwt.verify"], "published": ["authenticate"], "classes": [], "methods": [{"name": "authenticate(req, res, next)", "description": "Middleware function that verifies a Bearer JWT token from the request header, attaches the user info to req.context, and calls next() if valid. Handles errors for missing or invalid tokens.", "scope": "", "scopeKind": ""}], "calls": ["jwt.verify"], "search-terms": ["middleware", "auth", "JWT", "token verification", "Bearer token"], "state": 2, "file_id": 82, "knowledge_revision": 239, "git_revision": "436d040a20e0fb2a4619b878f285234ae3f896f2", "ctags": [{"_type": "tag", "name": "authenticate", "path": "/home/kavia/workspace/code-generation/teljira-326-1935/TELJIRAMonolith/src/middleware/auth.js", "pattern": "/^function authenticate(req, res, next) {$/", "language": "JavaScript", "kind": "function", "signature": "(req, res, next)"}, {"_type": "tag", "name": "authenticate", "path": "/home/kavia/workspace/code-generation/teljira-326-1935/TELJIRAMonolith/src/middleware/auth.js", "pattern": "/^module.exports = { authenticate };$/", "language": "JavaScript", "kind": "field", "scope": "module.exports", "scopeKind": "class"}, {"_type": "tag", "name": "email", "path": "/home/kavia/workspace/code-generation/teljira-326-1935/TELJIRAMonolith/src/middleware/auth.js", "pattern": "/^      email: payload.email,$/", "language": "JavaScript", "kind": "property", "scope": "req.context.user", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/teljira-326-1935/TELJIRAMonolith/src/middleware/auth.js", "pattern": "/^      id: payload.sub,$/", "language": "JavaScript", "kind": "property", "scope": "req.context.user", "scopeKind": "class"}, {"_type": "tag", "name": "jwt", "path": "/home/kavia/workspace/code-generation/teljira-326-1935/TELJIRAMonolith/src/middleware/auth.js", "pattern": "/^const jwt = require('jsonwebtoken');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "permissions", "path": "/home/kavia/workspace/code-generation/teljira-326-1935/TELJIRAMonolith/src/middleware/auth.js", "pattern": "/^      permissions: Array.isArray(payload.permissions) ? payload.permissions : []$/", "language": "JavaScript", "kind": "property", "scope": "req.context.user", "scopeKind": "class"}, {"_type": "tag", "name": "roles", "path": "/home/kavia/workspace/code-generation/teljira-326-1935/TELJIRAMonolith/src/middleware/auth.js", "pattern": "/^      roles: Array.isArray(payload.roles) ? payload.roles : [],$/", "language": "JavaScript", "kind": "property", "scope": "req.context.user", "scopeKind": "class"}, {"_type": "tag", "name": "user", "path": "/home/kavia/workspace/code-generation/teljira-326-1935/TELJIRAMonolith/src/middleware/auth.js", "pattern": "/^    req.context.user = {$/", "language": "JavaScript", "kind": "class", "scope": "req.context", "scopeKind": "class"}], "hash": "65498a20a5de9c3a01b64ede03ba9036", "format-version": 4, "code-base-name": "TELJIRAMonolith", "filename": "TELJIRAMonolith/src/middleware/auth.js", "fields": [{"name": "module.exports = { authenticate };", "scope": "module.exports", "scopeKind": "class", "description": "unavailable"}, {"name": "email: payload.email,", "scope": "req.context.user", "scopeKind": "class", "description": "unavailable"}, {"name": "id: payload.sub,", "scope": "req.context.user", "scopeKind": "class", "description": "unavailable"}, {"name": "permissions: Array.isArray(payload.permissions) ? payload.permissions : []", "scope": "req.context.user", "scopeKind": "class", "description": "unavailable"}, {"name": "roles: Array.isArray(payload.roles) ? payload.roles : [],", "scope": "req.context.user", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"239": "436d040a20e0fb2a4619b878f285234ae3f896f2"}]}