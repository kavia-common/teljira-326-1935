{"is_source_file": true, "format": "JavaScript", "description": "This file manages PostgreSQL database connection pooling, providing functions to initialize, retrieve, and close database connections. It uses the 'pg' module for PostgreSQL interactions and includes logging for connection events and errors.", "external_files": ["../utils/logger"], "external_methods": ["logger.error", "logger.info"], "published": ["initDb", "getDb", "closeDb"], "classes": [], "methods": [{"name": "initDb()", "description": "Asynchronously initializes a PostgreSQL connection pool using environment variables, sets up error handling and tests the connection.", "scope": "", "scopeKind": ""}, {"name": "getDb()", "description": "Returns the current database connection pool, throws an error if not initialized.", "scope": "", "scopeKind": ""}, {"name": "closeDb()", "description": "Closes the database connection pool, releases resources, and logs the closure.", "scope": "", "scopeKind": ""}], "calls": ["new Pool", "pool.on", "logger.error", "pool.query", "logger.info", "pool.end"], "search-terms": ["PostgreSQL connection pool", "db initialization", "pg Pool", "database connection management", "index.js database"], "state": 2, "file_id": 84, "knowledge_revision": 242, "git_revision": "60170788cf27921249ff28f12b094884389481b0", "ctags": [{"_type": "tag", "name": "closeDb", "path": "/home/kavia/workspace/code-generation/teljira-326-1935/TELJIRAMonolith/src/db/index.js", "pattern": "/^async function closeDb() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getDb", "path": "/home/kavia/workspace/code-generation/teljira-326-1935/TELJIRAMonolith/src/db/index.js", "pattern": "/^function getDb() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "initDb", "path": "/home/kavia/workspace/code-generation/teljira-326-1935/TELJIRAMonolith/src/db/index.js", "pattern": "/^async function initDb() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "initDb", "path": "/home/kavia/workspace/code-generation/teljira-326-1935/TELJIRAMonolith/src/db/index.js", "pattern": "/^module.exports = { initDb, getDb, closeDb };$/", "language": "JavaScript", "kind": "field", "scope": "module.exports", "scopeKind": "class"}, {"_type": "tag", "name": "logger", "path": "/home/kavia/workspace/code-generation/teljira-326-1935/TELJIRAMonolith/src/db/index.js", "pattern": "/^const logger = require('..\\/utils\\/logger');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "pool", "path": "/home/kavia/workspace/code-generation/teljira-326-1935/TELJIRAMonolith/src/db/index.js", "pattern": "/^let pool;$/", "language": "JavaScript", "kind": "variable"}], "hash": "de1f7d2a26c734ac84fc2c1d45bd05c9", "format-version": 4, "code-base-name": "TELJIRAMonolith", "filename": "TELJIRAMonolith/src/db/index.js", "fields": [{"name": "module.exports = { initDb, getDb, closeDb };", "scope": "module.exports", "scopeKind": "class", "description": "unavailable"}, {"name": "let pool;", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"242": "60170788cf27921249ff28f12b094884389481b0"}]}